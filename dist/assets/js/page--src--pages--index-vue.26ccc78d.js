(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{168:function(t,s,e){"use strict";e.d(s,"b",(function(){return n})),e.d(s,"a",(function(){return r}));var a=e(171),o=e.n(a),n=o.a.query,r=new o.a.Client({secret:"fnADwAb8WMACBdmk7a-pZlu3uheEn7p5hfQZn93h"})},180:function(t,s){},181:function(t,s){},357:function(t,s,e){var a={"./af":202,"./af.js":202,"./ar":203,"./ar-dz":204,"./ar-dz.js":204,"./ar-kw":205,"./ar-kw.js":205,"./ar-ly":206,"./ar-ly.js":206,"./ar-ma":207,"./ar-ma.js":207,"./ar-sa":208,"./ar-sa.js":208,"./ar-tn":209,"./ar-tn.js":209,"./ar.js":203,"./az":210,"./az.js":210,"./be":211,"./be.js":211,"./bg":212,"./bg.js":212,"./bm":213,"./bm.js":213,"./bn":214,"./bn.js":214,"./bo":215,"./bo.js":215,"./br":216,"./br.js":216,"./bs":217,"./bs.js":217,"./ca":218,"./ca.js":218,"./cs":219,"./cs.js":219,"./cv":220,"./cv.js":220,"./cy":221,"./cy.js":221,"./da":222,"./da.js":222,"./de":223,"./de-at":224,"./de-at.js":224,"./de-ch":225,"./de-ch.js":225,"./de.js":223,"./dv":226,"./dv.js":226,"./el":227,"./el.js":227,"./en-SG":228,"./en-SG.js":228,"./en-au":229,"./en-au.js":229,"./en-ca":230,"./en-ca.js":230,"./en-gb":231,"./en-gb.js":231,"./en-ie":232,"./en-ie.js":232,"./en-il":233,"./en-il.js":233,"./en-nz":234,"./en-nz.js":234,"./eo":235,"./eo.js":235,"./es":236,"./es-do":237,"./es-do.js":237,"./es-us":238,"./es-us.js":238,"./es.js":236,"./et":239,"./et.js":239,"./eu":240,"./eu.js":240,"./fa":241,"./fa.js":241,"./fi":242,"./fi.js":242,"./fo":243,"./fo.js":243,"./fr":244,"./fr-ca":245,"./fr-ca.js":245,"./fr-ch":246,"./fr-ch.js":246,"./fr.js":244,"./fy":247,"./fy.js":247,"./ga":248,"./ga.js":248,"./gd":249,"./gd.js":249,"./gl":250,"./gl.js":250,"./gom-latn":251,"./gom-latn.js":251,"./gu":252,"./gu.js":252,"./he":253,"./he.js":253,"./hi":254,"./hi.js":254,"./hr":255,"./hr.js":255,"./hu":256,"./hu.js":256,"./hy-am":257,"./hy-am.js":257,"./id":258,"./id.js":258,"./is":259,"./is.js":259,"./it":260,"./it-ch":261,"./it-ch.js":261,"./it.js":260,"./ja":262,"./ja.js":262,"./jv":263,"./jv.js":263,"./ka":264,"./ka.js":264,"./kk":265,"./kk.js":265,"./km":266,"./km.js":266,"./kn":267,"./kn.js":267,"./ko":268,"./ko.js":268,"./ku":269,"./ku.js":269,"./ky":270,"./ky.js":270,"./lb":271,"./lb.js":271,"./lo":272,"./lo.js":272,"./lt":273,"./lt.js":273,"./lv":274,"./lv.js":274,"./me":275,"./me.js":275,"./mi":276,"./mi.js":276,"./mk":277,"./mk.js":277,"./ml":278,"./ml.js":278,"./mn":279,"./mn.js":279,"./mr":280,"./mr.js":280,"./ms":281,"./ms-my":282,"./ms-my.js":282,"./ms.js":281,"./mt":283,"./mt.js":283,"./my":284,"./my.js":284,"./nb":285,"./nb.js":285,"./ne":286,"./ne.js":286,"./nl":287,"./nl-be":288,"./nl-be.js":288,"./nl.js":287,"./nn":289,"./nn.js":289,"./pa-in":290,"./pa-in.js":290,"./pl":291,"./pl.js":291,"./pt":292,"./pt-br":293,"./pt-br.js":293,"./pt.js":292,"./ro":294,"./ro.js":294,"./ru":295,"./ru.js":295,"./sd":296,"./sd.js":296,"./se":297,"./se.js":297,"./si":298,"./si.js":298,"./sk":299,"./sk.js":299,"./sl":300,"./sl.js":300,"./sq":301,"./sq.js":301,"./sr":302,"./sr-cyrl":303,"./sr-cyrl.js":303,"./sr.js":302,"./ss":304,"./ss.js":304,"./sv":305,"./sv.js":305,"./sw":306,"./sw.js":306,"./ta":307,"./ta.js":307,"./te":308,"./te.js":308,"./tet":309,"./tet.js":309,"./tg":310,"./tg.js":310,"./th":311,"./th.js":311,"./tl-ph":312,"./tl-ph.js":312,"./tlh":313,"./tlh.js":313,"./tr":314,"./tr.js":314,"./tzl":315,"./tzl.js":315,"./tzm":316,"./tzm-latn":317,"./tzm-latn.js":317,"./tzm.js":316,"./ug-cn":318,"./ug-cn.js":318,"./uk":319,"./uk.js":319,"./ur":320,"./ur.js":320,"./uz":321,"./uz-latn":322,"./uz-latn.js":322,"./uz.js":321,"./vi":323,"./vi.js":323,"./x-pseudo":324,"./x-pseudo.js":324,"./yo":325,"./yo.js":325,"./zh-cn":326,"./zh-cn.js":326,"./zh-hk":327,"./zh-hk.js":327,"./zh-tw":328,"./zh-tw.js":328};function o(t){var s=n(t);return e(s)}function n(t){if(!e.o(a,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id=357},358:function(t,s,e){"use strict";e.r(s);e(71),e(353),e(354),e(355),e(356);var a=e(168),o=e(164),n={name:"Todo",data:function(){return{todoname:"",moment:o,todo_data:[],activeTab:0}},created:function(){this.gettodos()},computed:{todos:function(){return this.todo_data},user_id:function(){return String(this.$store.state.user.id)}},methods:{gettodos:function(){var t=this,s=localStorage.getItem("token");null!=s&&0!=s||this.$router.push({path:"/login"}),a.a.query(a.b.Get(a.b.Match(a.b.Index("user_token"),s))).then((function(s){var e=s.data;t.$store.commit("setUser",e),t.$store.commit("setUserId",s.ref.value.id),a.a.query(a.b.Paginate(a.b.Match(a.b.Index("all_todo"),String(t.$store.state.id)))).then((function(s){var e=s.data.map((function(t){return a.b.Get(t)}));a.a.query(e).then((function(s){t.todo_data=s,t.todo_data.reverse()}))}))}))},addTodo:function(){var t=this;null==this.todoname||""==this.todoname?this.$buefy.snackbar.open({message:"ToDo name should not be empty!",type:"is-warning",position:"is-top",indefinite:!1}):a.a.query(a.b.Create(a.b.Collection("todo"),{data:{name:this.todoname,completed:!1,trashed:!1,user_id:this.$store.state.id,date:Date.now()}})).then((function(s){t.todoname="",t.todo_data.unshift(s)}))},check:function(t,s){a.a.query(a.b.Update(a.b.Ref(a.b.Collection("todo"),t),{data:{completed:s}})).then((function(t){}))},trash:function(t,s,e){this.todo_data[e].data.trashed=s,a.a.query(a.b.Update(a.b.Ref(a.b.Collection("todo"),t),{data:{trashed:s}})).then((function(t){}))},delete_permanent:function(t,s){this.todo_data.splice(s,1),a.a.query(a.b.Delete(a.b.Ref(a.b.Collection("todo"),t))).then((function(t){}))}}},r=e(70),i=Object(r.a)(n,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container p-3",staticStyle:{"margin-top":"70px"}},[e("h1",{staticClass:"subtitle is-1 text-center"},[t._v("@toDo")]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[e("form",{attrs:{onsubmit:"event.preventDefault();"}},[e("div",{staticClass:"columns is-gapless"},[e("div",{staticClass:"column is-four-fifths"},[e("b-field",{staticClass:"pt-2"},[e("b-input",{attrs:{placeholder:"Todo...",type:"input"},model:{value:t.todoname,callback:function(s){t.todoname=s},expression:"todoname"}})],1)],1),e("div",{staticClass:"column"},[e("div",{staticClass:"pt-2"},[e("button",{staticClass:"button is-primary is-light is-fullwidth",on:{click:function(s){return t.addTodo()}}},[t._v("Add")])])])])]),e("b-tabs",{model:{value:t.activeTab,callback:function(s){t.activeTab=s},expression:"activeTab"}},[e("b-tab-item",{attrs:{label:"All"}},t._l(t.todos,(function(s,a){return e("div",{key:a},[e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.todos[a].data.trashed,expression:"todos[index].data.trashed == false"}],staticClass:"p-2 border mt-2 flex hover:shadow-lg items-center flex justify-between"},[e("div",[e("b-checkbox",{on:{click:function(s){return t.check(t.todos[a].ref.value.id,0==t.todos[a].data.completed)}},model:{value:t.todos[a].data.completed,callback:function(s){t.$set(t.todos[a].data,"completed",s)},expression:"todos[index].data.completed"}},[e("span",{class:1==t.todos[a].data.completed?"line-through":""},[t._v(t._s(t.todos[a].data.name))])])],1),e("div",[e("span",{staticClass:"text-red-400 cursor-pointer",on:{click:function(s){return t.trash(t.todos[a].ref.value.id,0==t.todos[a].data.trashed,a)}}},[e("i",{staticClass:"fas fa-trash-alt"}),t._v("\n                  Trash\n                ")])])])])})),0),e("b-tab-item",{attrs:{label:"Completed"}},t._l(t.todos,(function(s,a){return e("div",{key:a},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.todos[a].data.completed&&0==t.todos[a].data.trashed,expression:"todos[index].data.completed == true && todos[index].data.trashed == false"}],staticClass:"p-2 border mt-2 flex hover:shadow-lg items-center flex justify-between"},[e("div",[e("b-checkbox",{on:{click:function(s){return t.check(t.todos[a].ref.value.id,0==t.todos[a].data.completed)}},model:{value:t.todos[a].data.completed,callback:function(s){t.$set(t.todos[a].data,"completed",s)},expression:"todos[index].data.completed"}},[e("span",{class:1==t.todos[a].data.completed?"line-through":""},[t._v(t._s(t.todos[a].data.name))])])],1),e("div",[e("span",{staticClass:"text-red-400 cursor-pointer",on:{click:function(s){return t.trash(t.todos[a].ref.value.id,0==t.todos[a].data.trashed,a)}}},[e("i",{staticClass:"fas fa-trash-alt"}),t._v("\n                  Trash\n                ")])])])])})),0),e("b-tab-item",{attrs:{label:"Trashed"}},t._l(t.todos,(function(s,a){return e("div",{key:a},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.todos[a].data.trashed,expression:"todos[index].data.trashed == true"}],staticClass:"p-2 border mt-2 flex hover:shadow-lg items-center flex justify-between"},[e("div",[e("span",{class:1==t.todos[a].data.completed?"line-through":""},[t._v(t._s(t.todos[a].data.name))])]),e("div",[e("span",{staticClass:"pr-3 text-blue-400 cursor-pointer",on:{click:function(s){return t.trash(t.todos[a].ref.value.id,0==t.todos[a].data.trashed,a)}}},[e("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"trash-restore-alt"}}),t._v("Retore\n                ")],1),e("span",{staticClass:"text-red-400 cursor-pointer",on:{click:function(s){return t.delete_permanent(t.todos[a].ref.value.id,a)}}},[e("i",{staticClass:"fas fa-trash-alt"}),t._v("\n                  Delete\n                ")])])])])})),0)],1)],1)])])}),[],!1,null,null,null).exports,d=e(171),l=new d.Client({secret:"fnADwAb8WMACBdmk7a-pZlu3uheEn7p5hfQZn93h"}),c=d.query,u={name:"Home",components:{Todo:i},computed:{user:function(){return this.$store.state.user}},methods:{logout:function(){var t=this;l.query(c.Logout(!0)).then((function(s){l.query(c.Update(c.Ref(c.Collection("users"),t.$store.state.id),{data:{token:null}})).then((function(s){localStorage.removeItem("token"),t.$router.push({path:"/login"})}))}))}}},j=Object(r.a)(u,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"p-2"},[e("div",{staticClass:"float-left"},[e("strong",[t._v(t._s(t.user.email))])]),e("div",{staticClass:"float-right"},[e("a",{staticClass:"button is-primary",on:{click:function(s){return t.logout()}}},[e("strong",[t._v("Logout")])])]),e("Todo")],1)}),[],!1,null,null,null);s.default=j.exports}}]);